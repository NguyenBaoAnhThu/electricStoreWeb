<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/admin/fragments/footer.css}">
</head>
<body>
<footer th:fragment="footer" class="main-footer">
    <div class="footer-container">
        <div class="footer-left">
            <div class="footer-title">
                <h3 class="system-name">
                    <span class="pulse-dot"></span>
                    Hệ thống Quản lý Cửa hàng Điện tử
                </h3>
                <div class="version-copyright">
                    <div class="system-version">v1.0.0</div>
                    <div class="system-copyright">© 2025 Công ty của bạn</div>
                </div>
            </div>
        </div>

        <div class="footer-center">
            <div class="footer-divider"></div>
        </div>

        <div class="footer-right">
            <div class="support-item">
                <div class="support-icon">
                    <i class="fas fa-headset"></i>
                </div>
                <div class="support-details">
                    <div class="support-label">Hỗ trợ kỹ thuật</div>
                    <div class="support-value">0123-456-789</div>
                </div>
            </div>

            <div class="support-item">
                <div class="support-icon">
                    <i class="fas fa-tools"></i>
                </div>
                <div class="support-details">
                    <div class="support-label">Bảo trì hệ thống</div>
                    <div class="support-value">0987-654-321</div>
                </div>
            </div>

            <div class="support-item">
                <div class="support-icon">
                    <i class="fas fa-envelope"></i>
                </div>
                <div class="support-details">
                    <div class="support-label">Email hỗ trợ</div>
                    <div class="support-value">support@hethong.com</div>
                </div>
            </div>
        </div>
    </div>
</footer>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const body = document.body;
        const footer = document.querySelector(".main-footer");
        const sidebarToggle = document.querySelector(".sidebar-toggle");

        function updateFooter() {
            if (body.classList.contains("sidebar-collapsed")) {
                footer.style.left = "70px";
                footer.style.width = "calc(100% - 70px)";
            } else {
                footer.style.left = "250px";
                footer.style.width = "calc(100% - 250px)";
            }
        }

        // Run the function on load
        updateFooter();

        // Check if sidebar toggle exists
        if (sidebarToggle) {
            sidebarToggle.addEventListener("click", function () {
                body.classList.toggle("sidebar-collapsed");
                updateFooter();
            });
        } else {
            // If the sidebar-toggle doesn't exist, try to listen for class changes on body
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.attributeName === "class") {
                        updateFooter();
                    }
                });
            });

            observer.observe(body, { attributes: true });
        }
    });
</script>
</body>
</html>